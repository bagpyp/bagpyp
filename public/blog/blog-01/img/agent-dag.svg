<svg viewBox="0 0 1000 500" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="500" fill="white"/>

  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#0284c7" />
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#c026d3" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="500" y="40" font-family="Inter, sans-serif" font-size="24" font-weight="700" fill="#0c4a6e" text-anchor="middle">
    Agent Interaction DAG
  </text>

  <!-- User Input (top) -->
  <g transform="translate(500, 80)">
    <rect x="-80" y="0" width="160" height="50" fill="#dbeafe" stroke="#0284c7" stroke-width="2" rx="8"/>
    <text x="0" y="30" font-family="Inter, sans-serif" font-size="14" font-weight="600" fill="#075985" text-anchor="middle">
      User Input
    </text>
  </g>

  <!-- Arrow to Agent -->
  <line x1="500" y1="130" x2="500" y2="170" stroke="#0284c7" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Main Agent Node -->
  <g transform="translate(500, 180)">
    <ellipse cx="0" cy="0" rx="90" ry="55" fill="#bae6fd" stroke="#0284c7" stroke-width="3"/>
    <text x="0" y="-10" font-family="Inter, sans-serif" font-size="16" font-weight="700" fill="#0c4a6e" text-anchor="middle">
      Agent
    </text>
    <text x="0" y="10" font-family="monospace" font-size="12" fill="#075985" text-anchor="middle">
      (decision)
    </text>
  </g>

  <!-- Arrows to multiple tools -->
  <path d="M500,235 L250,300" stroke="#c026d3" stroke-width="2" marker-end="url(#arrowPurple)"/>
  <path d="M500,235 L500,300" stroke="#c026d3" stroke-width="2" marker-end="url(#arrowPurple)"/>
  <path d="M500,235 L750,300" stroke="#c026d3" stroke-width="2" marker-end="url(#arrowPurple)"/>

  <!-- Tool Nodes -->
  <g transform="translate(250, 330)">
    <rect x="-60" y="-25" width="120" height="50" fill="#fae8ff" stroke="#c026d3" stroke-width="2" rx="6"/>
    <text x="0" y="5" font-family="monospace" font-size="14" fill="#86198f" text-anchor="middle">Tool A</text>
  </g>

  <g transform="translate(500, 330)">
    <rect x="-60" y="-25" width="120" height="50" fill="#fae8ff" stroke="#c026d3" stroke-width="2" rx="6"/>
    <text x="0" y="5" font-family="monospace" font-size="14" fill="#86198f" text-anchor="middle">Tool B</text>
  </g>

  <g transform="translate(750, 330)">
    <rect x="-60" y="-25" width="120" height="50" fill="#fae8ff" stroke="#c026d3" stroke-width="2" rx="6"/>
    <text x="0" y="5" font-family="monospace" font-size="14" fill="#86198f" text-anchor="middle">Tool C</text>
  </g>

  <!-- Results flow back -->
  <path d="M250,355 L350,400" stroke="#0284c7" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="5,5"/>
  <path d="M500,355 L450,400" stroke="#0284c7" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="5,5"/>
  <path d="M750,355 L550,400" stroke="#0284c7" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="5,5"/>

  <!-- Final Output -->
  <g transform="translate(450, 410)">
    <rect x="-70" y="0" width="140" height="50" fill="#d1fae5" stroke="#10b981" stroke-width="2" rx="8"/>
    <text x="0" y="32" font-family="Inter, sans-serif" font-size="14" font-weight="600" fill="#047857" text-anchor="middle">
      Final Output
    </text>
  </g>

  <!-- Annotations -->
  <text x="600" y="260" font-family="Inter, sans-serif" font-size="12" font-style="italic" fill="#64748b">
    Dynamic tool selection
  </text>
  <text x="320" y="390" font-family="Inter, sans-serif" font-size="12" font-style="italic" fill="#64748b">
    Results aggregation
  </text>
</svg>
